<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Minhas Inscri√ß√µes - SOLAR</title>
    
    <link rel="stylesheet" href="../../global.css" />
    <link rel="stylesheet" href="../../headerResponsivo.css" />
    <link rel="stylesheet" href="profile.css"> 
    <link rel="stylesheet" href="registrations.css"> 
    <link rel="shortcut icon" href="/ProjetoSolarOficial/src/assets/Logotipo-Solar.png" type="image/x-icon" />
</head>

<body>
    <header class="container-pai">
      <div class="logo">
        <a
          href="#"
          onclick="redirectUser('/ProjetoSolarOficial/src/pages/home/home.html')"
        >
          <img
            height="90"
            src="/ProjetoSolarOficial/src/assets/logo_nav2.png"
            alt="Logo branca Solar"
          />
        </a>
      </div>

      <button id="btn-mobile">
        <span id="hamburger"></span>
      </button>

      <nav class="nav-pai" id="nav">
        <ul id="menu">
          <li>
            <a
              href="#"
              onclick="redirectUser('/ProjetoSolarOficial/src/pages/home/home.html')"
              >HOME</a
            >
          </li>

          <li>
            <a href="#">
              EXPLORAR
              <img
                class="seta-header"
                src="/ProjetoSolarOficial/src/assets/seta.png"
                alt="seta"
              />
            </a>
            <ul class="dropdown">
              <li>
                <a
                  href="#"
                  onclick="redirectUser('/ProjetoSolarOficial/src/pages/explore/eventss/index/index.html')"
                  >EVENTOS</a
                >
              </li>
              <li>
                <a
                  href="#"
                  onclick="redirectUser('/ProjetoSolarOficial/src/pages/explore/courses/index/index.html')"
                  >CURSOS</a
                >
              </li>
              <li>
                <a
                  href="#"
                  onclick="redirectUser('/ProjetoSolarOficial/src/pages/explore/sunMidia/solmidia.html')"
                  >SOLM√çDIA</a
                >
              </li>
              <li>
                <a
                  href="#"
                  onclick="redirectUser('/ProjetoSolarOficial/src/pages/explore/game/game.html')"
                  >JOGOS</a
                >
              </li>
            </ul>
          </li>

          <li>
            <a
              href="#"
              onclick="redirectUser('/ProjetoSolarOficial/src/pages/donation/donation.html')"
              >DOA√á√ÉO</a
            >
          </li>
          <li>
            <a
              href="#"
              onclick="redirectUser('/ProjetoSolarOficial/src/pages/professionals/professionals.html')"
              >PROFISSIONAIS</a
            >
          </li>
          <li>
            <a
              href="#"
              onclick="redirectUser('/ProjetoSolarOficial/src/pages/plans/plans.html')"
              >PLANOS</a
            >
          </li>

          <li>
            <a href="#">
              REDES
              <img
                class="seta-header"
                src="/ProjetoSolarOficial/src/assets/seta.png"
                alt="seta"
              />
            </a>
            <ul class="dropdown">
              <li>
                <a
                  href="#"
                  onclick="redirectUser('/ProjetoSolarOficial/src/pages/network/about/about.html')"
                  >SOBRE</a
                >
              </li>
              <li>
                <a
                  href="#"
                  onclick="redirectUser('/ProjetoSolarOficial/src/pages/network/location/location.html')"
                  >LOCALIZAR INSTITUI√á√ïES</a
                >
              </li>
              <li>
                <a
                  href="#"
                  onclick="redirectUser('/ProjetoSolarOficial/src/pages/network/contactus/contactus.html')"
                  >FALE CONOSCO</a
                >
              </li>
              <li>
                <a
                  href="#"
                  onclick="redirectUser('/ProjetoSolarOficial/src/pages/network/community/comunidade.html')"
                  >COMUNIDADE</a
                >
              </li>
            </ul>
          </li>

          <li>
            <a
              href="#"
              onclick="redirectUser('/ProjetoSolarOficial/src/pages/login/login.html')"
            >
              <button class="button-header">ENTRAR</button>
            </a>
          </li>
        </ul>
      </nav>
    </header>

    <main class="margem-global">
        <div class="container-perfil"> <aside class="card-lateral">
                <div class="perfil-avatar">
                     <div class="avatar-wrapper">
                        <img id="avatar-img" src="">
                    </div>
                    <h2 id="nome-sidebar">Usu√°rio</h2>
                </div>

                <nav class="menu-lateral-lista">
                    <button onclick="window.location.href='profile.html'">
                        üë§ Meu Perfil
                    </button>
                    <button class="ativo" onclick="window.location.href='inscricoes.html'">
                        üìÑ Inscri√ß√µes
                    </button>
                    <button onclick="window.location.href='#'">üìã Plano</button>
                    <button onclick="window.location.href='#'">üìù Postagens</button>
                    <button onclick="window.location.href='#'">üìÖ Agendamentos</button>
                    <button onclick="window.location.href='#'">üí∞ Financeiro</button>
                    <button onclick="window.location.href='#'">‚öôÔ∏è Configura√ß√µes</button>
                    <button onclick="window.location.href='../login/login.html'">üö™ Sair</button>
                </nav>
            </aside>

            <section class="card-conteudo">
                <h2 style="font-family: 'Karla', sans-serif; color: #4a356d; margin-bottom: 20px;">
                    Meus Eventos e Cursos
                </h2>

                <div id="container-cards" class="grid-inscricoes">
                    <p>Carregando inscri√ß√µes...</p>
                </div>

            </section>
        </div>
    </main>

    <footer>
        <div class="margem-global">
            <div class="secao-footer">
                <div class="logo-footer">
                    <a href="/ProjetoSolarOficial/src/pages/home/home.html">
                        <img src="/ProjetoSolarOficial/src/assets/logo_nav.png" alt="Logo Solar" />
                    </a>
                    <span>Solar</span>
                </div>
                <p>
                    Um espa√ßo voltado para fam√≠lias monoparentais, oferecendo apoio
                    emocional, informa√ß√µes e recursos.
                </p>
            </div>

            <div class="secao-footer">
                <h3>Redes Sociais</h3>
                <div class="redes-sociais">
                    <a href="https://www.instagram.com/solar.plataforma?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw=="
                        class="link-rede-social">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z" />
                        </svg>
                        SOLAR.PLATAFORMA
                    </a>
                    <a href="https://www.linkedin.com/in/solaroficial/" class="link-rede-social">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z" />
                        </svg>
                        SOLAR OFICIAL
                    </a>
                </div>
            </div>

            <div class="secao-footer">
                <h3>P√°ginas</h3>
                <ul class="lista-paginas">
                    <li>
                        <a href="/ProjetoSolarOficial/src/pages/home/home.html">Home</a>
                    </li>
                    <li>
                        <a href="/ProjetoSolarOficial/src/pages/network/about/about.html">Sobre</a>
                    </li>
                    <li>
                        <a href="/ProjetoSolarOficial/src/pages/professionals/professionals.html">Profissionais</a>
                    </li>
                    <li>
                        <a href="/ProjetoSolarOficial/src/pages/explore/sunMidia/solmidia.html">SolM√≠dia</a>
                    </li>
                    <li>
                        <a href="/ProjetoSolarOficial/src/pages/plans/plans.html">Planos</a>
                    </li>
                </ul>
            </div>
        </div>

        <div class="direitos-autorais">
            <p>
                ¬© 2025 Solar - Todos os Direitos Reservados | Termos e Condi√ß√µes |
                Pol√≠tica de Privacidade
            </p>
        </div>
    </footer>

    <script src="../../js/script.js"></script>
    <script src="/ProjetoSolarOficial/src/js/headerResponsivo.js"></script>
    
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            carregarSidebar(); // Carrega foto e nome igual ao perfil
            listarInscricoes(); // Carrega os cards
        });

        function listarInscricoes() {
            const container = document.getElementById('container-cards');
            
            // 1. Busca no LocalStorage
            const lista = JSON.parse(localStorage.getItem('minhasInscricoes')) || [];

            // 2. Se estiver vazio
            if (lista.length === 0) {
                container.innerHTML = `
                    <div class="sem-inscricoes">
                        <p>Voc√™ ainda n√£o se inscreveu em nada.</p>
                        <button onclick="window.location.href='../../pages/explore/eventss/index/index.html'">Explorar Eventos</button>
                    </div>
                `;
                return;
            }

            // 3. Se tiver itens, desenha os cards
            container.innerHTML = ''; // Limpa
            
            lista.forEach((evento, index) => {
                const card = document.createElement('div');
                card.className = 'card-inscricao';
                
                card.innerHTML = `
                    <img src="${evento.imagem}" alt="${evento.titulo}">
                    <div class="card-info">
                        <span class="tag-tipo">${evento.categoria || 'Evento'}</span>
                        <h3>${evento.titulo}</h3>
                        <p><strong>Data:</strong> ${evento.data}</p>
                        <p><strong>Local:</strong> ${evento.local}</p>
                        <button class="btn-cancelar" onclick="cancelarInscricao('${evento.id}')">
                            Cancelar Inscri√ß√£o
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // Fun√ß√£o para remover item
        function cancelarInscricao(idParaRemover) {
            if(confirm("Tem certeza que deseja cancelar esta inscri√ß√£o?")) {
                let lista = JSON.parse(localStorage.getItem('minhasInscricoes')) || [];
                
                // Filtra a lista removendo o item com aquele ID
                const novaLista = lista.filter(item => item.id !== idParaRemover);
                
                // Salva de volta
                localStorage.setItem('minhasInscricoes', JSON.stringify(novaLista));
                
                // Recarrega a tela
                listarInscricoes();
            }
        }

        // Fun√ß√£o auxiliar para carregar foto e nome (reutilizada)
        function carregarSidebar() {
            const nome = localStorage.getItem('solar_nome_completo') || 'Usu√°rio';
            const foto = localStorage.getItem('solar_avatar');
            document.getElementById('nome-sidebar').innerText = nome;
            if(foto) document.getElementById('avatar-img').src = foto;
        }
    </script>
</body>
</html>